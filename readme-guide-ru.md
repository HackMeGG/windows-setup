# Базовый гайд по настройке Windows на русском:

## Некоторые параметры могут отсутствовать или называются по другому.

#### 0. Установка всех доступных обновлении:

Перейдите в раздел **Обновления Windows** и установите все доступные обновления и перезагрузитесь. После этого ставим на паузу на 5 недель.

#### 1. Отключаем автоматическое обновления драйверов:

- WIN+R → **regedit** → **HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows** → Создаём раздел **WindowsUpdate** → И в нём создаём параметр Dword32 с названием **ExcludeWUDriversInQualityUpdate** со значением **1**.
- Дальше переходим по **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\DriverSearching** находим **SearchOrderConfig** и выставляем значение **0**.

#### 2. Установка драйверов:

1.  Установите последние драйвера на чипсет, лан, вайфай & блютуз, звук. Их можно взять с сайта материнской платы.

##### 2.1. Установка драйвера на ГПУ:

- Сначала удаляем через [DDU](https://www.guru3d.com/download/display-driver-uninstaller-download/) дефолтный драйвер на ГПУ который сам установился, после чего ПК сам перезапустится. Удаляйте только если сделали шаг №2.
- Установите драйвер на ГПУ. Рекомендую установить чистый образ драйвера через [Nvcleanstall (для NVidia)](https://www.techpowerup.com/download/techpowerup-nvcleanstall/) или [Radeon Software Slimmer (для AMD)](https://github.com/GSDragoon/RadeonSoftwareSlimmer/releases).

<details>
<summary>Инструкция по Nvcleanstall</summary>
<br>

1. Скачиваем последний драйвер GeForce Game Ready Driver для вашего ГПУ.
2. Запускаем Nvcleanstall.
3. Жмём на раздел Use driver files on disk и указываем путь до драйвера.
4. Для чистого драйвера отключаем все галочки и идём к 5 пункту.
   :warning: Если вам нужен GeForce Experience, звук по HDMI и/или USB-C порт с видеокарты:

- Для звука по HDMI поставьте галочку напротив HD Audio via HDMI.
- Для GeForce Experience поставьте галочку напротив GeForce Experience, NV Container, Telemetry, NV Backend, NodeJS.
- Для USB-C поставьте галочку напротив USB-C driver.
- :warning:Если у вас ноутбук поставьте галочку напротив Optimus и USB-C!

5. Нажимаем _Next_ и во вкладки **Tweaks** выбираем **Disable Installer Telemetry, Disable MPO, Perform a clean installation**.
6. Далее нажимаем **Show Expert Tweaks**, выбираем **Disable Driver Telemetry, Disable Nvidia HD Audio device sleep timer, Disable HDCP**,

- _Enable Message Signaled Interrupts_:
  - Interrupt Policy: **Default**
  - Interrupt Priority: **High**
- _Rebuild digital signature_:
  - **Use method compatible with EasyAntiCheat**
  - **Auto accept driver unsigned warning**

7. Нажимаем **Next** и потом **Install**, устанавливаем драйвер из окна которая появится.
8. **Настроить панель**, фото с настройками в [репозитории](https://github.com/HackMeGG/windows11-setup/tree/main/nvidia-panel).
9. Отключить энергосбережение: Скачать [nvidiaProfileInspector](https://github.com/Orbmu2k/nvidiaProfileInspector/releases) → найти пункт **Cuda Force P2 State** → **Off** → **Apply Changes**.
10. Залочить частоту видеокарты: Скачать [MSI Afterburner](https://www.msi.com/Landing/afterburner/graphics-cards) → поставить "Temp Limit" на максимальное значение → настройки приложения → поставить 3 галочки "Разблокировать/Разблокировать/Форсировать..." и применить → нажать комбинацию Control + F → найти число и нажать на точку с вашей частотой → нажать комбинацию Control + L → закрыть график и нажать применить и кнопку с логотипом "Windows".
    Найти частоту вашей ГПУ можете на сайте [techpowerup](https://www.techpowerup.com/). Напишите в поиске вашу модель и зайдите на страницу, в самом внизу найдите свою модель видеокарты, значение "Boost Clock" надо использовать чтобы залочить частоту.
11. Отключение MPO: скачать и запустить файл [disable_mpo с сайта Nvidia](https://nvidia.custhelp.com/app/answers/detail/a_id/5157)
</details>

<details>
<summary>Инструкция по Radeon Software Slimmer</summary>
<br>

1. Скачиваем последний драйвер Recommended с сайта AMD.
2. Запускаем Radeon Software Slimmer.
3. Жмём на раздел **Pre Install** и указываем путь до драйвера.
4. Указываем путь для распаковки (создаём новую папку и указываем её, папка должна быть пустая.)
5. Отключаем все пункты в **Scheduled Tasks**.
6. В Packages оставляем только "**AMD Display Driver; AMD Settings; AMD WVR64; Branding64**", остальное выключаем.
   :warning:Если вам нужен звук с HDMI, то оставьте: **"HDMI Audio Driver"; "High Definition Audio Controller"**.
   :warning:Если вам нужна запись ReLive то оставьте: **"DVR64"**.
7. Нажимаем **Modify Installer** и потом **Run Installer**, устанавливаем драйвер из окна которая появится.
8. Настроить панель.
</details>

#### 3. Установка нужного софта:

- Установить пакет [Visual C++ AIO](https://www.techpowerup.com/download/visual-c-redistributable-runtime-package-all-in-one/)
- Установить [DirectX](https://www.microsoft.com/en-us/Download/confirmation.aspx?id=35)
- Установить [.Net Framework 4.8.1](https://dotnet.microsoft.com/en-us/download/dotnet-framework)
- Установить [7zip](https://www.7-zip.org/)
- По желанию установить [Java JDK](https://www.oracle.com/cis/java/technologies/downloads/#jdk21-windows)

---

### 4. Проверка битых файлов системы:

Вставьте команды в _cmd_ от имени Администратора:

- **sfc /scannow**
- **DISM /Online /Cleanup-Image /RestoreHealth**

#### 5. Настройки:

- Удалите приложения которыми не пользуетесь: Settings → Apps → Installed Apps.
- Настройки поиска Windows → Найти мои файлы → классический.
- Настройки → Игры → Захваты → отключить всё.
- Настройки → Игры → Включите игровой режим.
- Настройки → Конфиденциальность → все выключено (кроме микрофона и камеры если они вам нужны).
- Настройки → Система → Уведомления (снять все галочки) → Дополнительные настройки → снять все галочки.
- Настройки → Система → Память → Контроль памяти → Отключить.
- Настройки → Система → Общий доступ → Выкл.
- Настройки → Дисплей → Масштаб → 100 (рекомендуется).
- Настройки → Сеть и интернет → Ethernet → Дозированное соединение → Отключить.
- Настройки → Приложения → Общий доступ к устройствам и Архив приложений (Выкл).
- Настройки → Приложения → Автономные карты → Отключите **Измеренное соединение** и снимите флажок **Обновляться автоматически при подключении к сети и Wi-Fi**.
- Настройки → Специальные возможности → Отключить **Визуальные эффекты** и **Эффекты прозрачности**.
- Настройки → Система → Дисплей → Графика → Изменить настройки графики по умолчанию → Включить HAGS и оптимизацию для оконных игр.
- Настройки → Система → Дисплей → Поставьте максимальную частоту обновления вашего монитора.
- Настройки → Центр Обновления → Дополнительные Параметры → Оптимизация Доставки → Отключить.
- Настройки → Центр безопасности Windows → Защита на основе репутации → Все выключено.
- Настройки → Центр безопасности Windows → раздел **Управление приложениями и браузером** → **Защита на основе репутации** → **Параметры защиты на основе репутации** → Отключите все пункты.
- Настройки → Центр безопасности Windows → Настройки → Уведомления → Выкл.

#### 6. Панель Управления:

- Панель управления → Мышь → снять флажок **Повысить точность указателя**.
- Панель управления → Система и безопасность → Изменить настройки UAC → Никогда не уведомлять.
- Панель управления → Центр Управления Сетями → Изменение Параметров Адаптера → ПКМ по вашего адаптера LAN/WIFI → Свойства → отключить всё, кроме QoS и IPv4.
- Панель управления → Отключить брандмауэр.
- Панель управления → «Просмотр» справа вверху установлено «Значки» → Центр специальных возможностей → Облегчение работы с клавиатурой → Снимите флажок с «Включить залипание клавиш» в разделе «Упростить набор текста» → Применить.
- Панель управления → План питания → Максимальная Производительность → Действия кнопок питания → быстрый запуск и гибернация (ВЫКЛ).
- Панель управления → Сеть и интернет → Свойства браузера → вкладка **Безопасность** → кнопка **Другой** → пункт **Запуск программ и небезопасных файлов** → **Включить (небезопасно)**

:warning:Если нет режима "Максимальная Производительность" то напишите в cmd (от имени админа): **powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61**

- Отключение гибернации в cmd (от имени админа): **powercfg /h off**

◻️ Совет: Режим "Сон" и "Гибернация" не перезагружает систему и не очищает данные в памяти поэтому стоит их отключить.\_

#### 7. Отключение Индексации:

Проводник → Локальный Диск С → ПКМ → Свойства →

- Снимаем галочку с "Разрешить индексировать" и Принимаем.

#### 8. Производительность (Отключение анимации по желанию):

- Win+R → **sysdm.cpl** → вкладка **Дополнительно** → раздел **Быстродействие** кнопка **Параметры** → **Обеспечить наилучшее быстродействие** → **Применить**.

#### 9. Службы которые можно отключить:

SysMain → Отображаемое имя: SysMain
WSearch → Отображаемое имя: Windows Search
DiagTrack → Отображаемое имя: Функциональные возможности для подключенных пользователей и телеметрия
TrkWks → Отображаемое имя: Клиент отслеживания изменившихся связей
WalletService → Отображаемое имя: Служба кошелька
wisvc → Отображаемое имя: Служба предварительной оценки Windows
WpcMonSvc → Отображаемое имя: Родительский контроль
WerSvc → Отображаемое имя: Служба регистрации ошибок Windows
lfsvc → Отображаемое имя: Служба географического положения
Spooler → Отображаемое имя: Диспетчер печати. Отключать если у вас нет принтера (включая сетевые принтеры)

#### 10. Отключите результаты из интернета в поиске:

WIN+R → regedit → **HKEY_CURRENT_USER\SOFTWARE\Policies\Microsoft\Windows\Explorer** → Создаём параметр DWORD32бит с названием **DisableSearchBoxSuggestions** и со значением **1**.

#### 11. Отключите фоновые приложения:

Windows 10:
Параметры → конфиденциальности → фоновые приложения → снять галочку.
Windows 11:
WIN+R → gpedit.msc → Конфигурация компьютера > Административные шаблоны > Компоненты Windows > Конфиденциальность приложений → Разрешить приложениям Windows работать в фоновом режиме → "Включено" и ниже установите "Force Deny".

#### 12. Отключение Windows Copilot в Windows 11 (по желанию):

WIN+R → gpedit.msc → Конфигурация пользователя > Административные шаблоны > Компоненты Windows > Windows Copilot → Отключить Windows Copilot выберите «Включено» и нажмите «Применить».

#### 13. Отключение "VBS (Изоляция ядра, Целостность памяти)":

Во первых проверьте включена ли у вас виртуализация, потому что если она включена, вам придется отключить изоляцию ядра из **Безопасность Windows**. Если вы не используете виртуализацию то смело можете её отключить в BIOS'е. или отключить Изоляцию Ядра в Windows.

> **Безопасность Windows → Безопасность устройства → Изоляция ядра → Сведения об изоляции ядра → Целостность памяти → Выкл**.

#### 14. Настройка сетевого адаптера:

- Диспетчер устройств → Ваш сетевой адаптер →
  - Управление питанием → Снять все галочки.
  - Отключите во вкладке _Advanced_ → **Energy Efficient Ethernet; Gigabit Lite; Green Ethernet; Power Saving Mode; Всё где есть Wake on..."; Всё где есть Offload ...**.

#### 15. Переключение видеокарту в режиме MSI:

Скачайте [MSI utility v3](https://www.mediafire.com/file/ewpy1p0rr132thk/MSI_util_v3.zip/file) и запустите приложение от имени администратора → найдите вашу видеокарту и поставьте галочку в поле "**msi**", после чего нажмите "**Применить**".

#### 16. Отключение PowerThrottling:

:warning:Использовать только для настольных ПК!

WIN+R → regedit → **Computer\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerThrottling** → **PowerThrottlingOff** → **1** .

#### 17. Отключение автоматического перезапуска приложений при запуске системы:

Настройки → Учетные записи → Параметры входа → Отключите переключатель "Автоматически сохранять мои перезапускаемые приложения и перезапускать их, когда я снова вхожу в систему".

:white_medium_square: Совет: Windows 11 может сохранять и перезапускать определенные приложения при перезагрузке компьютера и входе в систему. Однако если вы хотите повысить скорость работы компьютера, лучше отключить эту функцию.

#### 18. Отключение Wi-Fi Sense:

:triangular*flag_on_post: \_Wi-Fi Sense* - это инструмент предназначенный для сбора данных о публичных точках доступа Wi-Fi. Собирает данные о точке доступа, такие как скорость и уровень сигнала, и загружает их в базу данных.

- WIN+R → **regedit** → **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WcmSvc\wifinetworkmanager\config** → **AutoConnectAllowedOEM** → **0**.

#### 19. Отключаем авто-обновление приложений из магазина Microsoft Store:

**Магазин Windows** → кликните по иконке профиля → **Параметры приложения** → **Обновление приложение** → переведите переключатель в положение «**Выкл**».

#### 20. Отключение Hyper-V (по желанию):

Hyper-V - это средство виртуализации, встроенное в Windows. Hyper-V может конфликтовать с приложениями сторонних разработчиков на вашем компьютере, включая другие средства виртуализации, такие как VMWare Workstation, VirtualBox и эмуляторы. В результате вы можете столкнуться с ошибкой Hyper-V при попытке запустить приложение, игры или утилиты для настройки оборудования. Поэтому, если вам необходимо использовать стороннее программное обеспечение для виртуализации, включая VMware WorkStation и Virtual Box, необходимо отключить гипервизор Hyper-V.

- Чтобы отключить:
  - WIN+R → cmd → **bcdedit /set hypervisorlaunchtype off**
- Чтобы включить:
  - WIN+R → cmd → **bcdedit /set hypervisorlaunchtype auto**

#### 21. Классическое контекстное меню ПКМ в Windows 11 & отключить задержку показа меню (по желанию):

- WIN+R → **regedit** → **HKEY_CURRENT_USER\SOFTWARE\CLASSES\CLSID** → Новый _ключ_ **{86ca1aa0-34aa-4e8b-a509-50c905bae2a2}** → ПКМ на созданном ключе и создайте еще один ключ с именем **InprocServer32**, и значение строки **(Default)** должно быть пустым.
- WIN+R → HKEY_CURRENT_USER\Control Panel\Desktop → **MenuShowDelay** → **0**.

#### 22. Остановка слежки Windows:

:warning: Это приведет к поломке Windows Defender Smart App Control! Если вы используете Defender, пропустите этот шаг.

- WIN+R → gpedit.msc → Конфигурация компьютера → Административные шаблоны → Компоненты Windows → Сбор данных и предварительные сборки → Разрешить диагностические данные → **Включено** → **Диагностические данные выключены**.
- WIN+R → gpedit.msc → Конфигурация компьютера → Административные шаблоны → Компоненты Windows → Сбор данных и сборки предварительного просмотра → Ограничить необязательные диагностические данные для Desktop Analytics → **Включено** → **Запретить сбор Desktop Analytics**.

#### 23. Очистка системы:

- WIN+R → **%temp%** → Удалить всё.
- WIN+R → **temp** → Удалить всё.
- WIN+R → **prefetch** → Удалить всё.
- Этот компьютер → Диск C → Windows → SoftwareDistribution → Download → Удалите все.
- Найдите **Очистка диска** → Диск C → Отметьте их все → ОК.
- WIN+R → **cmd** → ipconfig /flushdns

#### 24. Отключить ненужные приложения из автозагрузки.

#### Дополнительный софт:

- Активация Windows навсегда (команда для Powershell): **irm https://massgrave.dev/get | iex**
- DISM++: https://github.com/Chuyu-Team/Dism-Multi-language/releases
- Autoruns: https://learn.microsoft.com/en-us/sysinternals/downloads/autoruns
- DeviceCleanup: https://www.majorgeeks.com/files/details/device_cleanup_tool.html
- Defender Remover: https://github.com/ionuttbara/windows-defender-remover/releases
- Хороший бесплатный антивирус: https://download.geo.drweb.com/pub/drweb/cureit/cureit.exe
- explorerpatcher для настройки/кастомизации Windows 11: https://github.com/valinet/ExplorerPatcher
